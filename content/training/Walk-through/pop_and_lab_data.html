---
date: "2019-08-21T10:27:23+02:00"
title: Import population and lab data
weight: 9
---



<div id="provide-population-counts" class="section level2">
<h2>Provide population counts</h2>
<p>The population estimates for regions and age groups are collected in order to calculate incidence, attack rates, and mortality rates. <strong>The template allows several ways to provide population estimates, but importantly, the data must be stored under specific variable names.</strong> In your real-use case, the specific age groupings and region names in your data may differ from the examples, but the variable names must follow the expected standard.</p>
<p>You can do one of the following:</p>
<ol style="list-style-type: upper-alpha">
<li>Import a spreadsheet file with the estimates in the correct format<br />
</li>
<li>Use the function <code>gen_population()</code> to derive the estimates from proportions based on globally accepted standards<br />
</li>
<li>Use the function <code>gen_population()</code> to directly enter counts</li>
</ol>
<div class="figure">
<img src="/images/AJS_Population_Counts.png" />

</div>
<p><strong>For this case study, we import an Excel spreadsheet containing population data by quartier (available for download in the <a href="https://r4epis.netlify.com/training/walk-through/case_study_overview/">case study overview</a> page).</strong></p>
<p>See the <code>read_population_data</code> chunk and <strong>modify</strong> the first command to import the Excel spreadsheet. We will assign the imported Excel sheet to the object name <code>population_data_region</code> (<strong>note the change</strong> from <code>population_data</code>), because the data we are importing is for regions (quartiers).</p>
<p>The command uses <code>import()</code> wrapped around <code>here()</code> to locate the file. The <code>which=</code> argument of <code>import()</code> specifies that the sheet “quartier” should be imported.</p>
<p>Note that the variables names in the spreadsheet have already been edited to match the expected variable names (“patient_origin” and “population”).</p>
<p>{{% notice tip %}} The <code>import()</code> function is wrapped around the <code>here()</code> function. The <code>here()</code> function makes it easy for R to locate files within a project. It is best to save the dataset within your R project, and to provide <code>here()</code> with any R project subfolder names. You can read more about the <code>here()</code> function in the R Basics - <a href="https://r4epis.netlify.com/training/r_basics/importing_data/">Importing Data</a> page. {{% /notice %}}</p>
<pre class="r"><code>population_data_region &lt;- rio::import(here(&quot;AJS_AmTiman_population_revised_for_template.xlsx&quot;), which=&quot;quartier&quot;)</code></pre>
<p>Before moving on, delete or comment (#) all the code lines in the chunk that create fake data or proportions for <code>population_data_region</code>, <code>population_data_age</code>, and <code>population_data_age_months</code>.</p>
<p><strong>If you choose not to complete the population estimates section at all, delete or comment (#) all code in this section, and expect that later sections on attack and mortality rates will not produce output.</strong></p>
</div>
<div id="provide-laboratory-testing-data" class="section level2">
<h2>Provide laboratory testing data</h2>
<p>In this example, laboratory testing data is already included in the linelist dataset. Therefore, <strong>there is no need to import a separate laboratory testing dataset</strong>.</p>
<p>In your personal use-case, if you have a separate laboratory dataset, use the alterate code provided in the template to import and then join that dataset to the linelist dataset. You can join them based on an ID or case number variable that is present in both datasets. For more information about joins, see the R Basics - <a href="https://r4epis.netlify.com/training/r_basics/advanced_functions/">Advanced and Miscellaneous</a> page.</p>
</div>
