---
date: "2019-07-30T13:30:45+02:00"
title: Reading a RMarkdown Script
weight: 6
---



<div id="what-is-a-script" class="section level2">
<h2>What is a script?</h2>
<p>Scripts are files that:</p>
<ul>
<li><p>Record and organize a sequence of commands in a logical manner</p></li>
<li><p>Facilitate running many commands in rapid succession</p></li>
<li><p>Help to reproduce and share your work with others</p></li>
</ul>
<p>While it is possible to enter and run commands directly from the R Console, scripts will be the default way to work. If you are more familiar with Stata, a script is equivalent to a Do File.</p>
<p><strong>Remember to save your script as you work!</strong></p>
</div>
<div id="what-is-a-rmarkdown-script" class="section level2">
<h2>What is a RMarkdown Script?</h2>
<p>RMarkdown scripts can contain commands such as for data import, cleaning, etc. <strong>and are themselves the outline of an automatically-generated document</strong> containing text, tables, and plots produced by your code.</p>
<p>You can learn more about RMarkdowns <a href="https://rmarkdown.rstudio.com/lesson-1.html">here</a> and reference this <a href="https://www.rstudio.com/wp-content/uploads/2016/03/rmarkdown-cheatsheet-2.0.pdf">cheatsheet</a></p>
<div class="figure">
<img src="/images/RMarkdown_transformation.png" />

</div>
<p><em>In the above RMarkdown template script, the white and gray code chunks produce text and R-generated graphics, respectively, in the Word document output.</em></p>
<div id="understand-a-rmarkdown" class="section level3">
<h3>Understand a RMarkdown</h3>
<div id="code-chunks" class="section level4">
<h4>Code chunks</h4>
<p>While the RMarkdown may at first look like a wall of code, notice how “chunks” of code are differentiated by their background color:</p>
<ul>
<li><p><strong>In chunks with WHITE background, code text will appear as text in the document.</strong> These lines can have <em>italics</em>, <strong>bold</strong>, or other formating, and can display parameters derived from your data (such as epi week of outbreak peak, as in the example above).</p></li>
<li><p><strong>In chunks with GRAY background, RMarkdown is running R commands.</strong> The commands perform data processing and cleaning steps, or could produce visual outputs in the document.</p></li>
</ul>
</div>
<div id="navigating-the-rmarkdown" class="section level4">
<h4>Navigating the RMarkdown</h4>
<p>Use the Table of Contents menu in the bottom-left of the script to easily navigate between code chunks and sections of the script. The line numbers on the left side can be helpful to reference specific commands when asking for assistance.</p>
<div class="figure">
<img src="/images/Table_of_Contents.gif" />

</div>
</div>
<div id="running-code-chunks" class="section level4">
<h4>Running code chunks</h4>
<p>While editing and testing your RMarkdown, you may want to selectively run or re-run R code chunks. You have many options in the script’s Run menu, including:</p>
<ul>
<li>Run specific code within a chunk<br />
</li>
<li>Run one R code chunk at a time<br />
</li>
<li>Run all R code chunks above or below the selected chunk</li>
</ul>
<p>Progress bars and previews of chunk output/error messages help with revisions and trouble-shooting.</p>
<div class="figure">
<img src="/images/Running_Chunks.gif" />

</div>
</div>
<div id="commented-code" class="section level4">
<h4>Commented code</h4>
<p>Every script should include helpful text that organizes commands and explains their rationale to collaborators. The <strong># (hash or comment) symbol</strong> ensures that any text <em>after the # and on the same line</em> will not be executed by R as it runs the script. Such “commented” text will appear a different color than the code.</p>
<p>In the templates, you will see <strong>#</strong> serving two purposes:</p>
<ul>
<li><strong># Explanatory text or section headers.</strong> This commented text can be placed after code, or in the line above.</li>
</ul>
<pre class="r"><code># An example of commented text  
linelist_raw &lt;- gen_data(&quot;AJS&quot;) # generates a fake dataset for use in this template</code></pre>
<ul>
<li><strong># Optional commands that can be uncommented as needed.</strong> For example, you can uncomment and run the last line below if your dataset meets the relevant criteria.</li>
</ul>
<pre class="r"><code># If your linelist is a csv export of data from DHIS2 use this code chunk
# This assumes your data fits the standardised MSF data dictionary for this disease

## Read data ------------------------------------------------------
# CSV file
# linelist_raw &lt;- rio::import(&quot;linelist.csv&quot;)</code></pre>
<div class="figure">
<img src="/images/Commented_Lines.png" />

</div>
<p><em>Tip</em>: Multiple lines of code can be commented/uncommented by highlighting the lines and pressing the keys Ctrl, Shift, and C at the same time (Ctrl+Shift+C).</p>
</div>
</div>
<div id="code-assists" class="section level3">
<h3>Code assists</h3>
<p>Any script (RMarkdown or otherwise) will give clues when you have made a mistake. For example, if you forgot to write a comma where it is needed, or to close a parentheses, RStudio will raise a flag on that line, on the right side of the script, to warn you.</p>
<div class="figure">
<img src="/images/Warnings_and_Errors.png" />

</div>
</div>
</div>
