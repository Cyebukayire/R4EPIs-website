---
title: "Getting Started"
categories: ["R"]
tags: ["wiki"]
weight: 1
---



<p>This section describes how to get up and running!</p>
<div id="necessary-components" class="section level1">
<h1>NECESSARY COMPONENTS</h1>
<div id="r" class="section level2">
<h2>R</h2>
<p>The templates need at least R version 3.3. We recommend <a href="https://cran.r-project.org">getting R directly from CRAN</a>, but <a href="https://mran.microsoft.com/">the MRAN version of R</a> will work as well.</p>
<blockquote>
<p><strong>Caveat for MRAN</strong>: MRAN is a version of R that has modifications that are outside the scope of this project, however, it should be noted that it also locks the version of all packages to a specific date, so care is needed to specify repositories when installing R packages.</p>
</blockquote>
<p>If you are unsure whether you have MRAN or CRAN R installed then see the <a href="https://github.com/R4EPI/sitrep/wiki/4)-FAQ#i-am-unsure-if-i-have-the-mran-or-cran-version-of-r-installed">FAQ</a></p>
</div>
<div id="rstudio-desktop" class="section level2">
<h2>RStudio Desktop</h2>
<p><a href="https://www.rstudio.com">RStudio</a> is an Integrated Development Environment for R that comes bundled with pandoc for publishing automated reports. Please have <a href="https://www.rstudio.com/products/rstudio/download/#download">version 1.1.463 or greater installed</a>.</p>
</div>
<div id="configuring-rstudio" class="section level2">
<h2>Configuring RStudio</h2>
<p>It’s important to start R every time with a clean working session. To do this, you must ensure that RStudio is set up correctly. Go to <kbd> Options &gt; Global Options </kbd> and do the following:</p>
<ol style="list-style-type: decimal">
<li><strong>de-select</strong> “Restore .RData into workspace at startup”. This ensures R never loads any previous workspaces</li>
<li><strong>Select “Never”</strong> from the dropdown menu for “Save workspace to .RData on exit”. This ensures that R will never attempt to save your workspace when you close it.</li>
</ol>
<p>Your Global Options window should look like this:</p>
<p><img src="https://imgur.com/LXsbqPT.png" width = "60%" align="middle" alt="RStudio global options window showing a setting optimal for reproducibility"></p>
<p>When writing RMarkdown and code, it’s common to wrap your text at 80 characters. You can add a reference line for this in RStudio:</p>
<p><img src="https://imgur.com/FWJ7lER.png" width = "60%" align="middle" alt="Margin line setting in RStudio global options"></p>
</div>
<div id="setting-the-default-r-repository" class="section level2">
<h2>Setting the default R repository</h2>
<p>If you are using Microsoft’s version of R (MRAN), the packages are all locked to one specific date (as of this writing, it’s 2018-08-07).
If you are unsure whether you have MRAN or CRAN R installed then see the <a href="https://github.com/R4EPI/sitrep/wiki/4)-FAQ#i-am-unsure-if-i-have-the-mran-or-cran-version-of-r-installed">FAQ</a>.</p>
<p>To install packages that were either created or updated after this date, you should use the RStudio cloud repository. The following code will update a file called <code>.Rprofile</code> that lives in your home directory (on Windows, this directory is usually “C:\&lt;username&gt;”).</p>
<p>To create this file and set your default repository, open R and type:</p>
<pre class="r"><code># install.packages(&quot;usethis&quot;, repos = &quot;https://cran.rstudio.com/&quot;)
library(&quot;usethis&quot;)
edit_r_profile()</code></pre>
<p>An editor window will open up and instructions will be printed to your R console. Paste the following code in the editor, save it, and restart your R session:</p>
<pre class="r"><code>local({
  r &lt;- getOption(&quot;repos&quot;)
  r[&quot;CRAN&quot;] &lt;- &quot;https://cran.rstudio.com/&quot;
  options(repos = r)
})</code></pre>
<p>This sets the default repository to be <a href="https://cran.rstudio.com" class="uri">https://cran.rstudio.com</a> so that you will always have the latest version of R packages available.</p>
</div>
<div id="updating-your-r-version" class="section level2">
<h2>Updating your R version</h2>
<p>Please make sure you have the latest version of R installed.
To do this you can use the <em>installr</em> package.
See <a href="https://www.r-statistics.com/tag/installr/">this page</a> for details.</p>
<p>For MSF Field Epidemiologists, you do not have full admin rights to be able to do this on your field laptops. Please liaise with someone in your headquarters to ask what the best way is to do this.</p>
<pre class="r"><code>install.packages(&quot;installr&quot;) # install package
installr::updateR() # updating R.
# If you wish it to go faster, run: installr::updateR(TRUE)</code></pre>
</div>
<div id="installing-the-package" class="section level2">
<h2>Installing the package</h2>
<p>To install from GitHub you will first need to install the <em>remotes</em> package.
Once installed you can use the <em>install_github</em> function to install <em>sitrep</em>
from the appropriate repo.</p>
<pre class="r"><code># install.packages(&quot;remotes&quot;, repos = &quot;https://cran.rstudio.com&quot;)</code></pre>
<p>The necessary R packages for these templates are described in the DESCRIPTION file. To obtain these packages, run the following from within R:</p>
<pre class="r"><code>remotes::install_github(&quot;R4EPI/sitrep&quot;, repos = &quot;https://cran.rstudio.com&quot;, update = &quot;never&quot;)</code></pre>
<p>To explain a bit: this will install the sitrep package and also install any dependent packages that are not currently installed on your machine. It will not, however, update any of your current packages. If you want it to update packages, then you should change the argument above to <code>update = &quot;ask&quot;</code>.</p>
<p>If you are getting errors, check the FAQ section of this wiki.</p>
</div>
<div id="opening-up-templates" class="section level2">
<h2>Opening up templates</h2>
<p>Once the packages have been installed you can use the R-markdown templates
provided to create automated reports.</p>
<div class="figure">
<img src="https://imgur.com/0n4wigA.gif" alt="Example of how to open and save the cholera template" />
<p class="caption">Example of how to open and save the cholera template</p>
</div>
<p>To access the templates:</p>
<ul>
<li>Go into Rstudio</li>
<li>Under the ‘File’ button (top left of your screen), click on the “+”</li>
<li>Then click on “R markdown…”,</li>
<li>and select “From template”;
you should be able to see all the options of templates that are available. For example “Outbreak Report”.</li>
</ul>
<p>If you are not seeing these, then please take a look at this <a href="https://github.com/R4EPI/sitrep/issues/35">GitHub post</a>.</p>
</div>
<div id="folder-structure" class="section level2">
<h2>Folder structure</h2>
<p>You will need to save your rmarkdown document (the template) in the
same folder as your dataset in order for it to work!</p>
</div>
</div>
<div id="nice-to-have-components" class="section level1">
<h1>NICE-TO-HAVE COMPONENTS</h1>
<div id="tools-for-building-packages" class="section level3">
<h3>Tools for building packages</h3>
<p>Most packages will have windows binaries available for installation. For those that don’t, <a href="https://cran.r-project.org/bin/windows/Rtools/">the RTools suite</a> is a straightforward, easy-to-install (with administrator priviledges) toolset that gives the user the ability to compile and install R packages directly from source on windows machines.</p>
</div>
</div>
